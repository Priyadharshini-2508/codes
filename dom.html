<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DOM-Styled Form</title>
  <style>
    /* Minimal base styles; main styling is applied via DOM methods on button click */
    :root { --gap: 12px; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background:#f8fafc; margin:0; padding:24px; }
    .container { max-width: 520px; margin: 0 auto; }
    form { display: grid; gap: var(--gap); background: #fff; }
    .row { display:flex; flex-direction: column; gap: 6px; }
    input { padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 10px; outline: none; }
    input:focus { border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99,102,241,.15); }
    button { cursor: pointer; padding: 10px 14px; border:0; border-radius: 12px; font-weight: 600; }
    .required-note { font-size: 12px; color: #6b7280; }

    /* Class that JS toggles to highlight missing required fields */
    .required-highlight { background-color: #fff9c4; } /* light yellow */
  </style>
</head>
<body>
  <div class="container">
    <h1 id="heading">User Information</h1>

    <form id="userForm" novalidate>
      <div class="row">
        <label for="name">Name <span aria-hidden="true">*</span></label>
        <input id="name" name="name" type="text" placeholder="Enter your name" aria-required="true" />
      </div>

      <div class="row">
        <label for="email">Email <span aria-hidden="true">*</span></label>
        <input id="email" name="email" type="email" placeholder="you@example.com" aria-required="true" />
      </div>

      <div class="row">
        <label for="age">Age (optional)</label>
        <input id="age" name="age" type="number" min="0" placeholder="e.g., 25" />
      </div>

      <div class="row">
        <button id="styleBtn" type="button">Apply Styles & Validate</button>
        <span class="required-note" id="note">Fields marked * are mandatory.</span>
      </div>
    </form>
  </div>

  <script>
    (function(){
      const btn = document.getElementById('styleBtn');
      const form = document.getElementById('userForm');
      const heading = document.getElementById('heading');

      btn.addEventListener('click', function () {
        // 1) Bold all labels using DOM methods
        document.querySelectorAll('label').forEach(label => {
          label.style.fontWeight = '700';
        });

        // 2) Style the heading using DOM methods
        heading.style.color = '#1f2937'; // slate-800
        heading.style.letterSpacing = '0.5px';
        heading.style.borderBottom = '2px solid #e5e7eb';
        heading.style.paddingBottom = '6px';
        heading.style.marginBottom = '14px';

        // 3) Style the form using DOM methods
        form.style.padding = '16px';
        form.style.border = '1px solid #e5e7eb';
        form.style.borderRadius = '16px';
        form.style.background = '#ffffff';
        form.style.boxShadow = '0 8px 30px rgba(0,0,0,0.06)';

        // 4) Highlight mandatory fields (Name, Email) if empty
        const requiredIds = ['name', 'email'];
        let firstInvalid = null;

        requiredIds.forEach(id => {
          const input = document.getElementById(id);
          const isEmpty = !input.value.trim();

          // toggle highlighting via a class (DOM method)
          input.classList.toggle('required-highlight', isEmpty);

          // reflect validity for assistive tech
          input.setAttribute('aria-invalid', String(isEmpty));

          if (isEmpty && !firstInvalid) firstInvalid = input; 
        });

        // focus the first missing required field (if any)
        if (firstInvalid) firstInvalid.focus();
      });
    })();
  </script>
</body>
</html>
